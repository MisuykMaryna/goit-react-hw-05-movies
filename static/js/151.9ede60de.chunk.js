"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[151],{151:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var i=n(413),r=n(439),c=n(791),o=n(689),a=n(87),s=n(933),l="MovieInfo_movieInfo_section__HGdtT",u="MovieInfo_movieInfo_image__sCq8b",d="MovieInfo_movieInfo__LxIpr",v=n(184),h=function(e){var t=e.overview,n=e.title,i=e.vote_average,r=e.release_date,c=e.genres,o=e.poster_path,a=r.slice(0,4),s=c.flatMap((function(e){return e.name})).join(", ");return(0,v.jsxs)("div",{className:l,children:[(0,v.jsx)("img",{className:u,src:"https://image.tmdb.org/t/p/w300/".concat(o),alt:n}),(0,v.jsxs)("div",{className:d,children:[(0,v.jsxs)("h2",{children:[n," (",a,")"]}),(0,v.jsxs)("p",{children:["User score: ",i," %"]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:"Overview"}),(0,v.jsx)("p",{children:t})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("h3",{children:"Genres"}),(0,v.jsx)("p",{children:s})]})]})]})},f="MovieDetails_movieDetails_section__iAIDq",p="MovieDetails_movieDetails__EbgQo",_="MovieDetails_movieDetails_link__KDJJP",m="MovieDetails_movieDetails_list__G50z9",j=function(){var e,t,n=(0,c.useState)(null),l=(0,r.Z)(n,2),u=l[0],d=l[1],j=(0,o.TH)(),g=(0,c.useRef)(null!==(e=null===(t=j.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/"),x=(0,o.UO)().movieId;return(0,c.useEffect)((function(){x&&s.Z.getMovieDetails(x).then((function(e){d(e)})).catch((function(e){console.log(e)}))}),[x]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("div",{className:f,children:(0,v.jsx)(a.NavLink,{to:g.current,className:_,children:"Go back"})}),u&&(0,v.jsx)(h,(0,i.Z)({},u)),(0,v.jsxs)("div",{className:p,children:[(0,v.jsx)("h3",{children:"Additional information"}),(0,v.jsxs)("ul",{className:m,children:[(0,v.jsx)("li",{children:(0,v.jsx)(a.NavLink,{to:"cast",className:_,children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(a.NavLink,{to:"reviews",className:_,children:"Reviews"})})]}),(0,v.jsx)(c.Suspense,{fallback:(0,v.jsx)("div",{children:"Loading..."}),children:(0,v.jsx)(o.j3,{})})]})]})}},933:function(e,t,n){var i=n(243),r="4123e3b2001d1c6636516ddf9773c242",c="https://api.themoviedb.org/3/",o={getTrendingMovies:function(){return i.Z.get("".concat(c,"trending/movie/day?api_key=").concat(r)).then((function(e){return e.data.results.map((function(e){var t=e.id,n=e.title,i=e.original_title;return{id:t,title:n||i,poster_path:e.poster_path}}))}))},getSearchedMovies:function(e){return i.Z.get("".concat(c,"search/movie?query=").concat(e,"&api_key=").concat(r)).then((function(e){return e.data.results.map((function(e){var t=e.id,n=e.title,i=e.original_title;return{id:t,title:n||i,poster_path:e.poster_path}}))}))},getMovieDetails:function(e){return i.Z.get("".concat(c,"movie/").concat(e,"?api_key=").concat(r)).then((function(e){return e.data}))},getMovieCast:function(e){return i.Z.get("".concat(c,"movie/").concat(e,"/credits?api_key=").concat(r)).then((function(e){return e.data.cast}))},getMovieReviews:function(e){return i.Z.get("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(r)).then((function(e){return e.data.results.map((function(e){return{id:e.id,author:e.author,content:e.content}}))}))}};t.Z=o},413:function(e,t,n){n.d(t,{Z:function(){return c}});var i=n(942);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=151.9ede60de.chunk.js.map